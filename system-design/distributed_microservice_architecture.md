# 分散式架構 vs 微服務架構

## 分散式架構（Distributed Architecture）

### 定義與特性

分散式架構是將系統的計算資源與資料分散部署在多台獨立電腦（節點）上，這些節點協同工作，對使用者而言呈現為一個整體系統[1][5][6]。其主要特點包括：

- 多台自主節點無主從之分，協同完成任務（分佈性）
- 系統資源共享且透明，使用者無感知多節點存在（透明性）
- 節點間可通信並協同作業（通信性）
- 支援並行處理與橫向擴展，提高效能與可靠性

### 常見問題

| 問題類型           | 說明                                                                                        |
| ------------------ | ------------------------------------------------------------------------------------------- |
| 獨立失敗與容錯     | 節點或網路可能獨立故障，需設計容錯機制避免單點失效影響整體系統[5][6]。                      |
| 一致性與協調困難   | 多節點資料同步與操作協調複雜，常面臨 CAP 定理限制，需權衡一致性、可用性與分區容錯性[3][5]。 |
| 網路延遲與通訊錯誤 | 網路不穩定導致延遲或丟包，影響系統響應與可靠性[5][6]。                                      |
| 系統複雜度高       | 分散式設計涉及多節點管理、異步通信、錯誤處理，開發與維護難度大[5][6]。                      |
| 安全性挑戰         | 跨節點通信增加攻擊面，需強化認證、授權與資料保護[5]。                                       |
| 測試與故障恢復困難 | 多種失效場景難以模擬，故障診斷與恢復流程複雜[5]。                                           |

### 解決方案

- 採用分布式協議（如 Paxos、Raft）實現一致性與協調[3]
- 設計冗餘與故障轉移機制，提升系統容錯能力[5][6]
- 利用網路監控與重試機制減少通訊錯誤影響[5]
- 採用分散式安全架構，強化身份驗證與授權[5]
- 使用模擬與混沌工程測試系統韌性[5]

---

## 微服務架構（Microservices Architecture）

### 定義與特性

微服務架構是基於分散式架構理念，將大型應用拆分為多個小型、自治的服務，每個服務專注單一業務功能，並通過輕量級通信協作[4]。主要特點：

- 服務自治，獨立部署與擴展
- 單一職責，服務粒度細
- 去中心化數據管理，各服務管理自身資料庫
- 技術棧多樣化，允許不同服務採用不同技術
- 輕量通信（如 HTTP/REST、消息隊列）

### 常見問題

| 問題類型               | 說明                                                                          |
| ---------------------- | ----------------------------------------------------------------------------- |
| 服務治理複雜           | 需管理大量服務的生命週期、版本控制、健康檢查與配置管理[4]。                   |
| 服務發現與負載均衡     | 動態定位服務實例並合理分配流量，避免連線失敗或性能瓶頸[4]。                   |
| 資料一致性與分布式交易 | 跨服務事務難以保證強一致性，需設計補償交易或事件驅動架構[4]。                 |
| 部署與持續交付挑戰     | 多服務獨立部署帶來 CI/CD 流水線設計、版本兼容與回滾困難[4]。                  |
| 網路通訊延遲與容錯     | 服務間通訊依賴網路，可能遇到延遲或失敗，需設計重試、熔斷、降級等容錯機制[4]。 |
| 安全性管理             | 多服務間通訊增加攻擊面，需統一身份認證、授權及安全策略[4]。                   |

### 解決方案

- 建立完善的服務治理平台（如服務註冊、配置中心、健康檢查）[4]
- 採用服務網格（Service Mesh）實現流量管理與安全策略[4]
- 採用事件驅動架構與最終一致性設計，解決分布式事務問題[4]
- 建立自動化 CI/CD 流水線，提升部署效率與穩定性[4]
- 設計重試、熔斷、降級等容錯機制保障系統穩定[4]
- 統一身份認證與授權機制，強化安全防護[4]

---

## 總結比較表

| 項目         | 分散式架構                                           | 微服務架構                                                    |
| ------------ | ---------------------------------------------------- | ------------------------------------------------------------- |
| 定義         | 多台獨立節點協同工作，對用戶呈現單一系統             | 將應用拆分為多個自治服務，通過輕量通信協作                    |
| 核心特點     | 分佈性、透明性、通信性、並行處理與擴展性             | 服務自治、單一職責、去中心化資料、技術多樣性                  |
| 常見問題     | 節點失效、資料一致性、網路延遲、系統複雜、安全性挑戰 | 服務治理、服務發現、資料一致性、部署複雜、網路容錯、安全管理  |
| 主要解決方案 | 分布式協議、容錯設計、網路監控、安全加固、韌性測試   | 服務治理平台、服務網格、事件驅動、CI/CD、自動化容錯、安全統一 |

---

**參考來源:**

[1] https://aws.amazon.com/tw/what-is/distributed-computing/ \
[2] https://www.tsnien.idv.tw/Network_WebBook/chap6/6-6%20%E5%88%86%E6%95%A3%E5%BC%8F%E8%99%95%E7%90%86%E6%9E%B6%E6%A7%8B.html \
[3] https://godleon.github.io/blog/Architecture_Design/Architecture-Design-HA-CAP/ \
[4] https://www.atlassian.com/zh/microservices/microservices-architecture/distributed-architecture \
[5] https://wiki.mbalib.com/zh-tw/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F \
[6] https://www.cnblogs.com/joseph_zheng/p/6872934.html \
[7] https://zh.wikipedia.org/zh-hant/%E5%88%86%E6%95%A3%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%B5%B1 \
[8] https://dlcenter.gotop.com.tw/PDFSample/AEE034600.pdf

---

[返回目錄](./../README.md)
