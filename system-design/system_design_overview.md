# 系統設計概述

> 系統設計（System Design）是根據需求分析結果，運用系統科學思想與方法，規劃並構建符合需求目標的系統架構與組件的過程。它涵蓋系統功能劃分、架構設計、資料模型選擇、接口定義、模組整合等，目標是打造一個穩定、高效且可維護的系統[4][6][7]。

系統設計通常分為兩個階段：

- **邏輯設計**：規劃系統功能、流程與資料結構，重點在於「做什麼」。
- **實體設計**：具體實現方案，包括資料庫設計、程式架構、硬體部署等，重點在於「怎麼做」[4]。

設計時需考慮系統的輸入輸出、功能模組、環境限制、性能需求及擴展性，並運用分解與整合方法，將系統拆分為子系統後再整合，達成最優設計[4][6]。

---

## 常見系統設計模型比較

| 模型名稱                          | 主要特點                                                   | 適用場景                                 | 優點                               | 缺點                                 |
| --------------------------------- | ---------------------------------------------------------- | ---------------------------------------- | ---------------------------------- | ------------------------------------ |
| **分層模式 (Layered)**            | 系統分層（表示層、業務層、數據層），層與層間只相互作用     | 大多數企業應用，結構清晰，便於維護與擴展 | 職責分明，易於管理和測試           | 層間依賴可能成為性能瓶頸             |
| **客戶端-服務器 (Client-Server)** | 客戶端請求，服務器處理並回應                               | 網路應用、分布式系統                     | 角色分離明確，易於擴展和管理       | 服務器成為瓶頸，單點故障風險         |
| **點對點 (Peer-to-Peer)**         | 節點間直接通信，無中心服務器                               | 文件共享、分布式計算                     | 去中心化，抗故障能力強             | 節點管理複雜，安全與一致性難保證     |
| **微服務架構 (Microservices)**    | 系統拆分為獨立小服務，各自部署與擴展                       | 大型複雜系統，需高可用與靈活擴展         | 高度解耦，便於持續交付與技術多樣性 | 運維複雜，服務間通信與數據一致性挑戰 |
| **事件源架構 (Event Sourcing)**   | 系統狀態由事件流重建，所有狀態變更以事件形式保存           | 需完整審計、回溯和異步處理的系統         | 完整歷史記錄，便於追蹤和回滾       | 實現複雜，事件版本管理困難           |
| **模型-視圖-控制器 (MVC)**        | 將應用分為模型（數據）、視圖（界面）、控制器（邏輯）三部分 | Web 應用與用戶介面開發                   | 職責分離，易於協同開發和維護       | 控制器可能變得過於複雜               |
| **管道-過濾器 (Pipeline-Filter)** | 數據通過多個過濾器依序處理，形成管道                       | 流式數據處理、編譯器設計                 | 易於擴展和重用組件                 | 管道管理複雜，性能開銷較大           |
| **黑板模式 (Blackboard)**         | 多個專家模塊共享黑板數據結構，協同解決複雜問題             | AI、語音識別、複雜問題求解               | 靈活解決無明確策略的問題           | 實現與調試困難，性能開銷大           |

---

## 常見軟體開發模型（流程模型）

| 開發模型                       | 主要特點                           | 適用場景                       | 優點                       | 缺點                           |
| ------------------------------ | ---------------------------------- | ------------------------------ | -------------------------- | ------------------------------ |
| **瀑布模型 (Waterfall)**       | 順序開發，階段明確，需求穩定時適用 | 需求明確且變動少的項目         | 流程清晰，易於管理         | 不易應對需求變更               |
| **快速原型模型 (Prototyping)** | 先做原型，通過用戶反饋完善需求     | 需求不明確或需頻繁調整的系統   | 用戶參與度高，減少需求誤解 | 可能導致過度依賴原型，成本增加 |
| **漸增模型 (Incremental)**     | 分批次開發，逐步交付功能           | 需求可分解，需快速交付部分功能 | 降低風險，靈活性高         | 需良好架構支持，整合複雜       |
| **迭代模型 (Iterative)**       | 多次迭代開發，每次完成部分功能     | 需求不確定或易變，需快速反饋   | 快速響應需求變化，風險可控 | 管理較複雜，需良好團隊協作     |
| **敏捷開發 (Agile)**           | 強調團隊協作、快速交付、持續改進   | 需求頻繁變化，團隊規模較小     | 高靈活性，快速適應需求變化 | 不適合大型團隊，文檔較少       |

---

## 常見資料模型與資料庫選型

系統設計中資料模型選擇是核心問題，主要分為關係模型與非關係模型（NoSQL）[1][3][5]。

### 關係模型（Relational Model）

- 以表（relations）組織數據，表由行（元組）與列組成。
- 適合結構化數據和複雜查詢，支持 ACID 事務。
- 典型代表：MySQL、PostgreSQL、Oracle。
- 優點：成熟穩定，支持複雜聯結操作，生態豐富。
- 缺點：擴展性有限，對動態或半結構化數據支持較弱。

### NoSQL 模型

包括鍵值存儲、文檔存儲、列族存儲和圖存儲等[3]：

| 類型         | 特點                                    | 適用場景                           | 優點                         | 缺點                                     |
| ------------ | --------------------------------------- | ---------------------------------- | ---------------------------- | ---------------------------------------- |
| **鍵值存儲** | 基於哈希表，存取速度快，操作簡單        | 快速緩存、元數據存儲、簡單查詢     | 高性能，擴展性強             | 功能有限，複雜查詢需應用層實現           |
| **文檔存儲** | 以 JSON、XML 等文檔為單位存儲，結構靈活 | 半結構化數據，如用戶資料、配置文件 | 靈活模式，支持複雜查詢       | 不支持複雜聯結，ACID 支持有限            |
| **列族存儲** | 以列族組織數據，適合大數據存儲          | 大數據分析、時間序列數據           | 高可用、高擴展，適合海量數據 | 學習曲線陡峭，查詢模式有限               |
| **圖存儲**   | 儲存節點與邊，適合複雜關係數據          | 社交網路、推薦系統                 | 高效處理多對多關係           | 工具較少，查詢複雜，生態不如關係型數據庫 |

### SQL vs NoSQL 選擇依據

- **選 SQL**：結構化數據、嚴格模式、複雜聯結、事務需求。
- **選 NoSQL**：半結構化或非結構化數據、大規模數據、高吞吐量需求、靈活模式[3][5]。

---

## 補充：UML 圖與系統分析

系統設計過程中，UML 圖用於描述系統結構與行為，常見的有[2]：

- **動態行為圖**：順序圖、通信圖、活動圖、狀態圖等，描述系統中對象的交互與狀態變化。
- **靜態結構圖**：類圖、對象圖、包圖、部署圖等，描述系統靜態結構與組件關係。

這些圖有助於需求分析、系統設計與團隊溝通。

---

## 總結

系統設計是一個涵蓋需求理解、架構規劃、資料模型選擇與模組整合的綜合工程。根據不同系統需求與場景，選擇合適的設計模型與資料庫類型是關鍵。分層、微服務、事件源等架構模型各有優缺點，資料庫則需在關係型與 NoSQL 間權衡。配合合適的開發流程與 UML 工具，能有效提升系統設計質量與開發效率。

---

**參考來源:**

[1] https://www.51cto.com/article/711516.html \
[2] https://www.cnblogs.com/shanren/p/17074316.html \
[3] https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md
[4] https://weitinglin.com/2018/05/21/%E5%88%9D%E6%8E%A2%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E6%A6%82%E5%BF%B5%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%E3%80%81%E9%9C%80%E6%B1%82%E5%92%8C%E8%A6%8F%E6%A0%BC%E3%80%81%E8%A8%AD%E8%A8%88/ \
[5] https://blog.acecodeinterview.com/sql_vs_nosql/ \
[6] https://blog.csdn.net/JiuZhang_ninechapter/article/details/124005943 \
[7] http://blog.luoyuanhang.com/2020/05/24/system-design-0/

---

[返回目錄](./../README.md)
